{"remainingRequest":"D:\\webSource\\book-system\\front-end\\node_modules\\babel-loader\\lib\\index.js!D:\\webSource\\book-system\\front-end\\src\\router\\index.js","dependencies":[{"path":"D:\\webSource\\book-system\\front-end\\src\\router\\index.js","mtime":1585374150154},{"path":"D:\\webSource\\book-system\\front-end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\webSource\\book-system\\front-end\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IFZ1ZVJvdXRlciBmcm9tICd2dWUtcm91dGVyJzsKVnVlLnVzZShWdWVSb3V0ZXIpOwp2YXIgcm91dGVzID0gW3sKICBwYXRoOiAnLycsCiAgcmVkaXJlY3Q6ICcvdXNlcicKfSwgewogIHBhdGg6ICcvbG9naW4nLAogIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgcmV0dXJuIGltcG9ydCgnLi4vdmlld3MvbG9naW4nKTsKICB9Cn0sIHsKICBwYXRoOiAnL3JlZ2lzdGVyJywKICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgIHJldHVybiBpbXBvcnQoJy4uL3ZpZXdzL3JlZ2lzdGVyJyk7CiAgfQp9LCB7CiAgcGF0aDogJy9hZG1pbicsCiAgcmVkaXJlY3Q6ICcvYWRtaW4vYm9vay9ib29rTGlzdCcsCiAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICByZXR1cm4gaW1wb3J0KCcuLi92aWV3cy9hZG1pbi9pbmRleCcpOwogIH0sCiAgY2hpbGRyZW46IFt7CiAgICBwYXRoOiAnYm9vay9ib29rTGlzdCcsCiAgICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgICAgcmV0dXJuIGltcG9ydCgnLi4vdmlld3MvYWRtaW4vYm9va0xpc3QnKTsKICAgIH0KICB9LCB7CiAgICBwYXRoOiAnYm9vay9jcmVhdEJvb2snLAogICAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICAgIHJldHVybiBpbXBvcnQoJy4uL3ZpZXdzL2FkbWluL2NyZWF0Qm9vaycpOwogICAgfQogIH0sIHsKICAgIHBhdGg6ICdib29rL2VkaXRCb29rLzppZCcsCiAgICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgICAgcmV0dXJuIGltcG9ydCgnLi4vdmlld3MvYWRtaW4vZWRpdEJvb2snKTsKICAgIH0KICB9LCB7CiAgICBwYXRoOiAndXNlci91c2VyTGlzdCcsCiAgICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgICAgcmV0dXJuIGltcG9ydCgnLi4vdmlld3MvYWRtaW4vdXNlckxpc3QnKTsKICAgIH0KICB9LCB7CiAgICBwYXRoOiAndXNlci9lZGl0VXNlci86aWQnLAogICAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICAgIHJldHVybiBpbXBvcnQoJy4uL3ZpZXdzL2FkbWluL2VkaXRVc2VyJyk7CiAgICB9CiAgfV0KfSwgewogIHBhdGg6ICcvdXNlcicsCiAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICByZXR1cm4gaW1wb3J0KCcuLi92aWV3cy91c2VyL2luZGV4Jyk7CiAgfQp9XTsKdmFyIHJvdXRlciA9IG5ldyBWdWVSb3V0ZXIoewogIG1vZGU6ICdoaXN0b3J5JywKICBiYXNlOiBwcm9jZXNzLmVudi5CQVNFX1VSTCwKICByb3V0ZXM6IHJvdXRlcwp9KTsgLy/ot6/nlLHlr7zoiKrlrojljavvvIzliKTmlq3ot6/nlLHot7PovazmmK/lkKbluKbmnIl0b2tlbu+8jOayoeacieWwsei3s+i9rOWIsOeZu+W9lemhtemdogoKcm91dGVyLmJlZm9yZUVhY2goZnVuY3Rpb24gKHRvLCBmcm9tLCBuZXh0KSB7CiAgaWYgKHRvLnBhdGggPT09ICcvbG9naW4nKSB7CiAgICBuZXh0KCk7CiAgfSBlbHNlIGlmICh0by5wYXRoID09PSAnL3JlZ2lzdGVyJykgewogICAgbmV4dCgpOwogIH0gZWxzZSB7CiAgICB2YXIgdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKTsKCiAgICBpZiAodG9rZW4gPT09IG51bGwgfHwgdG9rZW4gPT09ICcnKSB7CiAgICAgIGFsZXJ0KCfmnKrnmbvlvZUnKTsKICAgICAgbmV4dCgnL2xvZ2luJyk7CiAgICB9IGVsc2UgewogICAgICBuZXh0KCk7CiAgICB9CiAgfQp9KTsKZXhwb3J0IGRlZmF1bHQgcm91dGVyOw=="},{"version":3,"sources":["D:/webSource/book-system/front-end/src/router/index.js"],"names":["Vue","VueRouter","use","routes","path","redirect","component","children","router","mode","base","process","env","BASE_URL","beforeEach","to","from","next","token","localStorage","getItem","alert"],"mappings":";AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AAEAD,GAAG,CAACE,GAAJ,CAAQD,SAAR;AAEA,IAAME,MAAM,GAAG,CACb;AACEC,EAAAA,IAAI,EAAE,GADR;AAEEC,EAAAA,QAAQ,EAAE;AAFZ,CADa,EAKb;AACED,EAAAA,IAAI,EAAE,QADR;AAEEE,EAAAA,SAAS,EAAE;AAAA,WAAM,OAAO,gBAAP,CAAN;AAAA;AAFb,CALa,EASb;AACEF,EAAAA,IAAI,EAAE,WADR;AAEEE,EAAAA,SAAS,EAAE;AAAA,WAAM,OAAO,mBAAP,CAAN;AAAA;AAFb,CATa,EAab;AACEF,EAAAA,IAAI,EAAE,QADR;AAEEC,EAAAA,QAAQ,EAAE,sBAFZ;AAGEC,EAAAA,SAAS,EAAE;AAAA,WAAM,OAAO,sBAAP,CAAN;AAAA,GAHb;AAIEC,EAAAA,QAAQ,EAAE,CACR;AACEH,IAAAA,IAAI,EAAE,eADR;AAEEE,IAAAA,SAAS,EAAE;AAAA,aAAM,OAAO,yBAAP,CAAN;AAAA;AAFb,GADQ,EAKR;AACEF,IAAAA,IAAI,EAAE,gBADR;AAEEE,IAAAA,SAAS,EAAE;AAAA,aAAM,OAAO,0BAAP,CAAN;AAAA;AAFb,GALQ,EASR;AACEF,IAAAA,IAAI,EAAE,mBADR;AAEEE,IAAAA,SAAS,EAAE;AAAA,aAAM,OAAO,yBAAP,CAAN;AAAA;AAFb,GATQ,EAaR;AACEF,IAAAA,IAAI,EAAE,eADR;AAEEE,IAAAA,SAAS,EAAE;AAAA,aAAM,OAAO,yBAAP,CAAN;AAAA;AAFb,GAbQ,EAiBR;AACEF,IAAAA,IAAI,EAAE,mBADR;AAEEE,IAAAA,SAAS,EAAE;AAAA,aAAM,OAAO,yBAAP,CAAN;AAAA;AAFb,GAjBQ;AAJZ,CAba,EAwCb;AACEF,EAAAA,IAAI,EAAE,OADR;AAEEE,EAAAA,SAAS,EAAE;AAAA,WAAM,OAAO,qBAAP,CAAN;AAAA;AAFb,CAxCa,CAAf;AA8CA,IAAME,MAAM,GAAG,IAAIP,SAAJ,CAAc;AAC3BQ,EAAAA,IAAI,EAAE,SADqB;AAE3BC,EAAAA,IAAI,EAAEC,OAAO,CAACC,GAAR,CAAYC,QAFS;AAG3BV,EAAAA,MAAM,EAANA;AAH2B,CAAd,CAAf,C,CAMA;;AACAK,MAAM,CAACM,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AACpC,MAAIF,EAAE,CAACX,IAAH,KAAY,QAAhB,EAA0B;AACxBa,IAAAA,IAAI;AACL,GAFD,MAGK,IAAIF,EAAE,CAACX,IAAH,KAAY,WAAhB,EAA6B;AAChCa,IAAAA,IAAI;AACL,GAFI,MAEE;AACL,QAAIC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAZ;;AACA,QAAIF,KAAK,KAAK,IAAV,IAAkBA,KAAK,KAAK,EAAhC,EAAoC;AAClCG,MAAAA,KAAK,CAAC,KAAD,CAAL;AACAJ,MAAAA,IAAI,CAAC,QAAD,CAAJ;AACD,KAHD,MAGO;AACLA,MAAAA,IAAI;AACL;AACF;AACF,CAfD;AAiBA,eAAeT,MAAf","sourcesContent":["import Vue from 'vue'\nimport VueRouter from 'vue-router'\n\nVue.use(VueRouter)\n\nconst routes = [\n  {\n    path: '/',\n    redirect: '/user'\n  },\n  {\n    path: '/login',\n    component: () => import('../views/login'),\n  },\n  {\n    path: '/register',\n    component: () => import('../views/register'),\n  },\n  {\n    path: '/admin',\n    redirect: '/admin/book/bookList',\n    component: () => import('../views/admin/index'),\n    children: [\n      {\n        path: 'book/bookList',\n        component: () => import('../views/admin/bookList')\n      },\n      {\n        path: 'book/creatBook',\n        component: () => import('../views/admin/creatBook')\n      },\n      {\n        path: 'book/editBook/:id',\n        component: () => import('../views/admin/editBook')\n      },\n      {\n        path: 'user/userList',\n        component: () => import('../views/admin/userList')\n      },\n      {\n        path: 'user/editUser/:id',\n        component: () => import('../views/admin/editUser')\n      },\n    ]\n  },\n  {\n    path: '/user',\n    component: () => import('../views/user/index')\n  }\n]\n\nconst router = new VueRouter({\n  mode: 'history',\n  base: process.env.BASE_URL,\n  routes\n})\n\n//路由导航守卫，判断路由跳转是否带有token，没有就跳转到登录页面\nrouter.beforeEach((to, from, next) => {\n  if (to.path === '/login') {\n    next()\n  }\n  else if (to.path === '/register') {\n    next()\n  } else {\n    let token = localStorage.getItem('token');\n    if (token === null || token === '') {\n      alert('未登录')\n      next('/login')\n    } else {\n      next()\n    }\n  }\n})\n\nexport default router\n"]}]}