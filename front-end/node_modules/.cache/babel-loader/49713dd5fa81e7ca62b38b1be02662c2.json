{"remainingRequest":"D:\\webSource\\book-recommend\\front-end\\node_modules\\babel-loader\\lib\\index.js!D:\\webSource\\book-recommend\\front-end\\src\\router\\index.js","dependencies":[{"path":"D:\\webSource\\book-recommend\\front-end\\src\\router\\index.js","mtime":1586137757227},{"path":"D:\\webSource\\book-recommend\\front-end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\webSource\\book-recommend\\front-end\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IFZ1ZVJvdXRlciBmcm9tICd2dWUtcm91dGVyJzsKVnVlLnVzZShWdWVSb3V0ZXIpOwp2YXIgcm91dGVzID0gW3sKICBwYXRoOiAnLycsCiAgcmVkaXJlY3Q6ICcvbG9naW4nCn0sIHsKICBwYXRoOiAnL2xvZ2luJywKICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgIHJldHVybiBpbXBvcnQoJy4uL3ZpZXdzL2xvZ2luJyk7CiAgfQp9LCB7CiAgcGF0aDogJy9yZWdpc3RlcicsCiAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICByZXR1cm4gaW1wb3J0KCcuLi92aWV3cy9yZWdpc3RlcicpOwogIH0KfSwgewogIHBhdGg6ICcvYWRtaW4nLAogIHJlZGlyZWN0OiAnL2FkbWluL2Jvb2svYm9va0xpc3QnLAogIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgcmV0dXJuIGltcG9ydCgnLi4vdmlld3MvYWRtaW4vaW5kZXgnKTsKICB9LAogIGNoaWxkcmVuOiBbewogICAgcGF0aDogJ2Jvb2svYm9va0xpc3QnLAogICAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICAgIHJldHVybiBpbXBvcnQoJy4uL3ZpZXdzL2FkbWluL2Jvb2tMaXN0Jyk7CiAgICB9CiAgfSwgewogICAgcGF0aDogJ2Jvb2svY3JlYXRCb29rJywKICAgIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgICByZXR1cm4gaW1wb3J0KCcuLi92aWV3cy9hZG1pbi9jcmVhdEJvb2snKTsKICAgIH0KICB9LCB7CiAgICBwYXRoOiAnYm9vay9lZGl0Qm9vay86aWQnLAogICAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICAgIHJldHVybiBpbXBvcnQoJy4uL3ZpZXdzL2FkbWluL2VkaXRCb29rJyk7CiAgICB9CiAgfSwgewogICAgcGF0aDogJ3VzZXIvdXNlckxpc3QnLAogICAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICAgIHJldHVybiBpbXBvcnQoJy4uL3ZpZXdzL2FkbWluL3VzZXJMaXN0Jyk7CiAgICB9CiAgfSwgewogICAgcGF0aDogJ3VzZXIvZWRpdFVzZXIvOmlkJywKICAgIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgICByZXR1cm4gaW1wb3J0KCcuLi92aWV3cy9hZG1pbi9lZGl0VXNlcicpOwogICAgfQogIH1dCn0sIHsKICBwYXRoOiAnL3VzZXInLAogIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgcmV0dXJuIGltcG9ydCgnLi4vdmlld3MvdXNlci9pbmRleCcpOwogIH0KfV07CnZhciByb3V0ZXIgPSBuZXcgVnVlUm91dGVyKHsKICBtb2RlOiAnaGlzdG9yeScsCiAgYmFzZTogcHJvY2Vzcy5lbnYuQkFTRV9VUkwsCiAgcm91dGVzOiByb3V0ZXMKfSk7IC8v6Lev55Sx5a+86Iiq5a6I5Y2r77yM5Yik5pat6Lev55Sx6Lez6L2s5piv5ZCm5bim5pyJdG9rZW7vvIzmsqHmnInlsLHot7PovazliLDnmbvlvZXpobXpnaIKCnJvdXRlci5iZWZvcmVFYWNoKGZ1bmN0aW9uICh0bywgZnJvbSwgbmV4dCkgewogIGlmICh0by5wYXRoID09PSAnL2xvZ2luJykgewogICAgbmV4dCgpOwogIH0gZWxzZSBpZiAodG8ucGF0aCA9PT0gJy9yZWdpc3RlcicpIHsKICAgIG5leHQoKTsKICB9IGVsc2UgewogICAgdmFyIHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJyk7CgogICAgaWYgKHRva2VuID09PSBudWxsIHx8IHRva2VuID09PSAnJykgewogICAgICBhbGVydCgn5pyq55m75b2VJyk7CiAgICAgIG5leHQoJy9sb2dpbicpOwogICAgfSBlbHNlIHsKICAgICAgbmV4dCgpOwogICAgfQogIH0KfSk7CmV4cG9ydCBkZWZhdWx0IHJvdXRlcjs="},{"version":3,"sources":["D:/webSource/book-recommend/front-end/src/router/index.js"],"names":["Vue","VueRouter","use","routes","path","redirect","component","children","router","mode","base","process","env","BASE_URL","beforeEach","to","from","next","token","localStorage","getItem","alert"],"mappings":";AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AAEAD,GAAG,CAACE,GAAJ,CAAQD,SAAR;AAEA,IAAME,MAAM,GAAG,CACb;AACEC,EAAAA,IAAI,EAAE,GADR;AAEEC,EAAAA,QAAQ,EAAE;AAFZ,CADa,EAKb;AACED,EAAAA,IAAI,EAAE,QADR;AAEEE,EAAAA,SAAS,EAAE;AAAA,WAAM,OAAO,gBAAP,CAAN;AAAA;AAFb,CALa,EASb;AACEF,EAAAA,IAAI,EAAE,WADR;AAEEE,EAAAA,SAAS,EAAE;AAAA,WAAM,OAAO,mBAAP,CAAN;AAAA;AAFb,CATa,EAab;AACEF,EAAAA,IAAI,EAAE,QADR;AAEEC,EAAAA,QAAQ,EAAE,sBAFZ;AAGEC,EAAAA,SAAS,EAAE;AAAA,WAAM,OAAO,sBAAP,CAAN;AAAA,GAHb;AAIEC,EAAAA,QAAQ,EAAE,CACR;AACEH,IAAAA,IAAI,EAAE,eADR;AAEEE,IAAAA,SAAS,EAAE;AAAA,aAAM,OAAO,yBAAP,CAAN;AAAA;AAFb,GADQ,EAKR;AACEF,IAAAA,IAAI,EAAE,gBADR;AAEEE,IAAAA,SAAS,EAAE;AAAA,aAAM,OAAO,0BAAP,CAAN;AAAA;AAFb,GALQ,EASR;AACEF,IAAAA,IAAI,EAAE,mBADR;AAEEE,IAAAA,SAAS,EAAE;AAAA,aAAM,OAAO,yBAAP,CAAN;AAAA;AAFb,GATQ,EAaR;AACEF,IAAAA,IAAI,EAAE,eADR;AAEEE,IAAAA,SAAS,EAAE;AAAA,aAAM,OAAO,yBAAP,CAAN;AAAA;AAFb,GAbQ,EAiBR;AACEF,IAAAA,IAAI,EAAE,mBADR;AAEEE,IAAAA,SAAS,EAAE;AAAA,aAAM,OAAO,yBAAP,CAAN;AAAA;AAFb,GAjBQ;AAJZ,CAba,EAwCb;AACEF,EAAAA,IAAI,EAAE,OADR;AAEEE,EAAAA,SAAS,EAAE;AAAA,WAAM,OAAO,qBAAP,CAAN;AAAA;AAFb,CAxCa,CAAf;AA8CA,IAAME,MAAM,GAAG,IAAIP,SAAJ,CAAc;AAC3BQ,EAAAA,IAAI,EAAE,SADqB;AAE3BC,EAAAA,IAAI,EAAEC,OAAO,CAACC,GAAR,CAAYC,QAFS;AAG3BV,EAAAA,MAAM,EAANA;AAH2B,CAAd,CAAf,C,CAMA;;AACAK,MAAM,CAACM,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AACpC,MAAIF,EAAE,CAACX,IAAH,KAAY,QAAhB,EAA0B;AACxBa,IAAAA,IAAI;AACL,GAFD,MAGK,IAAIF,EAAE,CAACX,IAAH,KAAY,WAAhB,EAA6B;AAChCa,IAAAA,IAAI;AACL,GAFI,MAEE;AACL,QAAIC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAZ;;AACA,QAAIF,KAAK,KAAK,IAAV,IAAkBA,KAAK,KAAK,EAAhC,EAAoC;AAClCG,MAAAA,KAAK,CAAC,KAAD,CAAL;AACAJ,MAAAA,IAAI,CAAC,QAAD,CAAJ;AACD,KAHD,MAGO;AACLA,MAAAA,IAAI;AACL;AACF;AACF,CAfD;AAiBA,eAAeT,MAAf","sourcesContent":["import Vue from 'vue'\nimport VueRouter from 'vue-router'\n\nVue.use(VueRouter)\n\nconst routes = [\n  {\n    path: '/',\n    redirect: '/login'\n  },\n  {\n    path: '/login',\n    component: () => import('../views/login'),\n  },\n  {\n    path: '/register',\n    component: () => import('../views/register'),\n  },\n  {\n    path: '/admin',\n    redirect: '/admin/book/bookList',\n    component: () => import('../views/admin/index'),\n    children: [\n      {\n        path: 'book/bookList',\n        component: () => import('../views/admin/bookList')\n      },\n      {\n        path: 'book/creatBook',\n        component: () => import('../views/admin/creatBook')\n      },\n      {\n        path: 'book/editBook/:id',\n        component: () => import('../views/admin/editBook')\n      },\n      {\n        path: 'user/userList',\n        component: () => import('../views/admin/userList')\n      },\n      {\n        path: 'user/editUser/:id',\n        component: () => import('../views/admin/editUser')\n      },\n    ]\n  },\n  {\n    path: '/user',\n    component: () => import('../views/user/index')\n  }\n]\n\nconst router = new VueRouter({\n  mode: 'history',\n  base: process.env.BASE_URL,\n  routes\n})\n\n//路由导航守卫，判断路由跳转是否带有token，没有就跳转到登录页面\nrouter.beforeEach((to, from, next) => {\n  if (to.path === '/login') {\n    next()\n  }\n  else if (to.path === '/register') {\n    next()\n  } else {\n    let token = localStorage.getItem('token');\n    if (token === null || token === '') {\n      alert('未登录')\n      next('/login')\n    } else {\n      next()\n    }\n  }\n})\n\nexport default router\n"]}]}